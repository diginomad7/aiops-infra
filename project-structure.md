# Структура проекта AIOps

## Основные директории

### `/ansible`
- Конфигурации Ansible для автоматизации развертывания
- Роли для настройки серверов
- Плейбуки для различных задач автоматизации

### `/kubernetes`
- Манифесты Kubernetes
- Конфигурации для развертывания сервисов
- Настройки сетевых политик и RBAC

### `/src`
- Исходный код на Go
- Микросервисы и компоненты системы
- Общие библиотеки и утилиты

### `/docs`
- Документация проекта
- Архитектурные решения
- Руководства по развертыванию
- API документация

### `/tests`
- Модульные тесты
- Интеграционные тесты
- E2E тесты
- Тестовые данные и конфигурации

### `/helm`
- `/aiops-umbrella` - Основной Helm чарт
- Зависимости и подчарты
- Values файлы для разных окружений

## Дополнительные файлы

### Корневая директория
- `Makefile` - Автоматизация задач разработки
- `docker-compose.yml` - Локальная разработка
- `.gitignore` - Исключения для Git
- `README.md` - Основная документация
- `go.mod` и `go.sum` - Управление зависимостями Go

### CI/CD
- `.github/workflows/` - GitHub Actions пайплайны
- Конфигурации для тестирования и деплоя

```
aiops-infra/
├── ansible/                    # Конфигурация инфраструктуры
│   ├── inventory/             # Инвентарь для разных окружений
│   ├── playbooks/            # Плейбуки для установки компонентов
│   └── roles/                # Роли Ansible
├── terraform/                 # IaC для облачных ресурсов
│   ├── modules/              # Terraform модули
│   └── environments/         # Окружения
├── kubernetes/               # Манифесты Kubernetes
│   ├── monitoring/          # Prometheus, Grafana, etc.
│   ├── logging/            # EFK stack
│   ├── ml-pipeline/        # ML компоненты
│   └── orchestrator/       # Rundeck/StackStorm
├── src/                     # Исходный код на Go
│   ├── cmd/                # Точки входа
│   │   ├── analyzer/      # ML-анализатор
│   │   └── orchestrator/  # Оркестратор
│   ├── internal/          # Внутренние пакеты
│   │   ├── ml/           # ML логика
│   │   ├── metrics/      # Работа с метриками
│   │   └── remediation/  # Логика восстановления
│   └── pkg/              # Публичные пакеты
├── docs/                  # Документация
│   ├── architecture/     # Архитектурные документы
│   ├── runbooks/        # Операционные руководства
│   └── development/     # Руководства для разработчиков
├── tests/               # Тесты
│   ├── unit/           # Unit-тесты
│   ├── integration/    # Интеграционные тесты
│   └── e2e/           # End-to-end тесты
├── scripts/            # Вспомогательные скрипты
├── configs/           # Конфигурационные файлы
│   ├── dev/          # Конфигурация для разработки
│   └── prod/         # Конфигурация для продакшена
├── .github/          # GitHub Actions
│   └── workflows/    # CI/CD пайплайны
├── Makefile         # Автоматизация сборки
├── go.mod           # Go модули
├── README.md        # Основная документация
└── docker-compose.yml  # Локальная разработка
```

## Описание компонентов

### Инфраструктура
- `ansible/`: Автоматизация развертывания
- `terraform/`: Управление облачными ресурсами
- `kubernetes/`: Манифесты для K8s

### Исходный код
- `src/cmd/`: Основные приложения
- `src/internal/`: Внутренняя логика
- `src/pkg/`: Переиспользуемые компоненты

### Конфигурация
- `configs/`: Конфигурационные файлы
- `.github/`: CI/CD конфигурация

### Тестирование
- `tests/`: Все виды тестов
- `scripts/`: Вспомогательные скрипты

### Документация
- `docs/`: Вся документация проекта

## Начало работы

1. Клонировать репозиторий
2. Установить зависимости:
   - Go 1.21+
   - Docker & Docker Compose
   - Kubernetes (K3s)
   - Terraform
   - Ansible

3. Локальная разработка:
```bash
make setup-dev    # Установка dev-окружения
make test        # Запуск тестов
make run         # Запуск локально
```

## Рекомендации по разработке

1. Следовать структуре проекта
2. Использовать линтеры и форматтеры
3. Писать тесты для нового кода
4. Документировать изменения
5. Следовать Git Flow 